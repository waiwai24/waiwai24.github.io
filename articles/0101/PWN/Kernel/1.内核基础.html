<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># 内核基础,内核基础</title>
    <link rel="stylesheet" href="../../../assets/css/notes.min.css">
</head>
<body>
    <div id="header-placeholder"></div>
    <div class="main-content-wrapper">
        <main class="content">
            <h1>内核基础</h1>
<p><a href="https://www.kernel.org/pub/linux/kernel/">https://www.kernel.org/pub/linux/kernel/</a></p>
<p><a href="https://toolchains.bootlin.com/toolchains.html">https://toolchains.bootlin.com/toolchains.html</a></p>
<p><a href="https://musl.cc/">https://musl.cc/</a></p>
<p>内核编译所需要的库：</p>
<pre><code class="language-c"># 核心编译工具
sudo apt install gcc make bc bison flex libssl-dev libelf-dev

# 内核配置工具
sudo apt install libncurses5-dev libncursesw5-dev

# 压缩相关库
sudo apt install zlib1g-dev liblz4-dev liblzma-dev libzstd-dev

# 其他常用库
sudo apt install dwarves rsync kmod cpio initramfs-tools-core
</code></pre>
<p>busybox编译所需要的库：</p>
<pre><code class="language-c"># 基本C库开发包
sudo apt install libc6-dev

# 静态库支持（如果需要静态编译）
sudo apt install libc6-dev-i386 lib32gcc-s1 lib32stdc++6
</code></pre>
<p>QEMU编译所需要的库：</p>
<pre><code class="language-c"># 核心编译工具
sudo apt install -y gcc make cmake ninja-build pkg-config

# Python相关（QEMU构建系统需要）
sudo apt install -y python3 python3-pip python3-dev python3-venv

# 基础库
sudo apt install zlib1g-dev libglib2.0-dev libpixman-1-dev libslirp-dev

sudo apt install -y \
    liburing-dev \
    libnfs-dev

# SDL支持（图形界面）
sudo apt install libsdl2-dev libsdl2-image-dev

# GTK支持
sudo apt install libgtk-3-dev

# VNC支持
sudo apt install libvncserver-dev

# Spice支持（高级图形）
sudo apt install libspice-server-dev libspice-protocol-dev

# 网络库
sudo apt install libcap-ng-dev libattr1-dev

# 存储格式支持
sudo apt install libaio-dev libcap-dev libiscsi-dev

# 压缩库
sudo apt install liblzo2-dev libsnappy-dev libbz2-dev liblzma-dev libzstd-dev

# 加密库
sudo apt install libgcrypt20-dev libgnutls28-dev

# 音频库
sudo apt install libasound2-dev libpulse-dev

# KVM支持
sudo apt install libvirt-dev

# USB支持
sudo apt install libusb-1.0-0-dev libusbredirparser-dev

# 智能卡支持
sudo apt install libcacard-dev

# 调试工具
sudo apt install valgrind

# 文档生成
sudo apt install texinfo

# 额外协议支持
sudo apt install libcurl4-gnutls-dev libssh-dev

# RDMA支持
sudo apt install librdmacm-dev libibverbs-dev

# 安全启动支持
sudo apt install libseccomp-dev
</code></pre>
<p>buildroot编译所需要的库：</p>
<pre><code class="language-c">sudo apt install -y git make gcc g++ unzip patch bc libncurses5-dev \
    libssl-dev libelf-dev bison flex rsync cpio python3 python3-pip \
    file wget
</code></pre>
<p>内核编译：</p>
<pre><code class="language-c">wget https://www.kernel.org/pub/linux/kernel/vx.x/linux-x.x.x.tar.gz
tar -xvf linux-x.x.x.tar.gz

# 配置内核
make menuconfig

# 编译
make bzImage -j$(nproc)

# 安装模块 (可选)
sudo make modules_install

# 安装内核 (可选)
sudo make install
</code></pre>
<p>镜像格式说明：</p>
<ul>
<li>Image: 未压缩的内核镜像，主要用于ARM64和RISC-V</li>
<li>zImage: 压缩的内核镜像，自解压，常用于ARM32、PowerPC等</li>
<li>bzImage: “big zImage”，x86架构的压缩内核镜像</li>
<li>uImage: U-Boot格式的内核镜像，包含加载地址等信息</li>
<li>vmlinux: 未压缩的ELF格式内核镜像，主要用于调试</li>
</ul>
<p>权限分级：</p>
<p><img src="/0101/PWN/Kernel/assets/1.%E5%86%85%E6%A0%B8%E5%9F%BA%E7%A1%80/image-20251020081937912.png" alt="image-20251020081937912"></p>
<p><a href="https://github.com/Symph0nia/Golconde">https://github.com/Symph0nia/Golconde</a></p>

        </main>
    </div>
    <footer class="footer">
        <p>&copy; 2024 waiwai24. All rights reserved.</p>
    </footer>
    <script src="../../../assets/js/header.js"></script>
    <script src="../../../assets/js/include-header.js"></script>
</body>
</html>