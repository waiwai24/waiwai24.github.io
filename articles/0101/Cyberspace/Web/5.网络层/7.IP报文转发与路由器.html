<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># IP报文转发与路由器,IP报文转发与路由器</title>
    <link rel="stylesheet" href="../../../../assets/css/notes.min.css">
</head>
<body>
    <div id="header-placeholder"></div>
    <div class="main-content-wrapper">
        <main class="content">
            <h1>IP报文转发与路由器</h1>
<blockquote>
<p>1、不考虑NAT，源/目的IP地址不会改变，源/目的MAC地址会改变</p>
<p>2、考虑NAT，源/目的内网IP地址会改变，源/目的MAC地址会改变</p>
<p>3、只要经过路由器，MAC地址都改变</p>
</blockquote>
<h2>1.IP报文转发</h2>
<ul>
<li>互联网使用IP路由器转发数据报：</li>
<li>转发forwarding：输入端口到输出端口</li>
<li>路由选择routing：路由表</li>
</ul>
<h2>2.IP路由表</h2>
<ul>
<li><strong>路由器路由表</strong>：
<ul>
<li>组成：
<ul>
<li>目的网络地址/前缀长度</li>
<li>下一跳地址</li>
<li>接口</li>
</ul>
</li>
</ul>
</li>
<li><strong>主机路由表</strong>：
<ul>
<li>路由表中一般只有两条（一个本网络地址，一个0.0.0.0）</li>
<li>当路由表中的目的地址为0.0.0.0时，表示默认路由。默认路由用于指示当没有匹配任何其他路由表项时应该采取的动作。换句话说，当设备要发送数据到一个目标地址，但在路由表中找不到与目标地址匹配的具体路由条目时，设备会使用默认路由来确定数据包的下一跳位置。通常情况下，默认路由设置为设备连接到的网关或者下一个级联路由器的地址。这样，当设备无法确定如何直接到达目标地址时，它会将数据包发送到默认路由指定的下一跳位置，由该位置继续决定如何转发数据包。默认路由在网络中扮演着非常重要的角色，确保数据包在没有明确路由规则的情况下能够正确传输。</li>
</ul>
</li>
</ul>
<p><img src="/0101/Cyberspace/Web/5.网络层/assets/7.IP%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%99%A8/image-20240614213323853.png" alt="image-20240614213323853"></p>
<p><img src="/0101/Cyberspace/Web/5.网络层/assets/7.IP%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%99%A8/image-20240614213441660.png" alt="image-20240614213441660"></p>
<h2>3.路由和交换机的区别</h2>
<ul>
<li>数据在同一网段的转发用<strong>交换机</strong></li>
<li>数据在不同网段的转发用<strong>路由器</strong></li>
<li><strong>路由</strong>：数据从源主机到目标主机的转发过程</li>
<li><strong>路由器</strong>：能够将数据包转移到正确目的地，并在转交过程中选择最佳路径的设备</li>
</ul>

        </main>
    </div>
    <footer class="footer">
        <p>&copy; 2024 waiwai24. All rights reserved.</p>
    </footer>
    <script src="../../../../assets/js/header.js"></script>
    <script src="../../../../assets/js/include-header.js"></script>
</body>
</html>