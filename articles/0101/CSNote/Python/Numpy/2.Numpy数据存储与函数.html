<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.Numpy数据存储与函数</title>
    <link rel="stylesheet" href="../../../../assets/css/notes.min.css">
</head>
<body>
    <div id="header-placeholder"></div>
    <div class="main-content-wrapper">
        <main class="content">
            <p>[TOC]</p>
<h1>1.csv文件</h1>
<blockquote>
<p>CSV（Comma-Separated Values，逗号分隔的值）是一种简单、实用的文件格式，用于存储和表示包括文本、数值等各种类型的数据。CSV 文件通常以 <code>.csv</code> 作为文件扩展名。这种文件格式的一个显著特点是：文件内的数据以逗号 <code>,</code> 分隔，呈现一个表格形式。CSV 文件已广泛应用于存储、传输和编辑数据</p>
<p>只能有效存取一 二维数组</p>
</blockquote>
<h2>a）优点</h2>
<ul>
<li><strong>简单易懂</strong>：CSV 文件基于纯文本格式，因此可以使用任何文本编辑器(如Notepad)轻松打开和编辑。</li>
<li><strong>数据兼容性</strong>：CSV 文件中的数据可以很容易地跨平台进行传输和处理，任何具有 CSV 处理功能的软件(如Microsoft Excel、Google Sheets、甚至编程语言库)都能处理该类型的文件。</li>
<li><strong>资源占用低</strong>：CSV 文件以纯文本形式存储数据，其体积相对较小，便于节省存储空间。</li>
</ul>
<h2>b）文件结构</h2>
<ul>
<li>
<p><strong>每行表示一条记录</strong>：CSV 文件中的每一行代表一条记录，相当于数据库中的一行数据。</p>
</li>
<li>
<p><strong>逗号分隔</strong>：每行数据中，使用逗号 <code>,</code> 进行数据分隔，代表不同的数据。</p>
</li>
<li>
<p><strong>引号包围</strong>：当数据单元格中的内容含有逗号时，为避免混淆，需要引号 (单引号 <code>'</code> 或双引号 <code>&quot;</code>）将这个数据包围起来，防止误认为是两个不同数据。</p>
<pre><code class="language-csv">姓名,年龄,性别
张三,25,男
李四,28,男
王五,22,女
</code></pre>
</li>
</ul>
<h2>c）np.savetxt()</h2>
<pre><code class="language-py">np.savetxt(frame,array,fmt='%.18e',delimiter=None)
</code></pre>
<ul>
<li>frame：文件，字符串，或产生器，可以是.gz或.bz2的压缩文件</li>
<li>array：存入文件的数组</li>
<li>fmt：写入文件的格式</li>
<li>delimiter：分割字符串，默认是任何空格</li>
</ul>
<pre><code class="language-py">a = np.arange(100).reshape(5,20)
np.savetxt('a.csv',a,fmt='%d',delimiter=',')
</code></pre>
<h2>d）np.loadtxt</h2>
<pre><code class="language-py">np.loadtxt(frame,dtype=np.float,delimiter=None,unpack=False)
</code></pre>
<ul>
<li>frame：文件，字符串，或产生器，可以是.gz或.bz2的压缩文件</li>
<li>dtype：数据类型，可选</li>
<li>delimiter：分割字符串，默认是任何空格</li>
<li>unpack：如果是True，读入属性将分别写入不同变量</li>
</ul>
<h1>2.多维度数据的存取</h1>
<h2>a）a.tofile</h2>
<pre><code class="language-py">a.tofile(frame,sep='',format='%s')
</code></pre>
<ul>
<li>frame：文件，字符串</li>
<li>sep：数据分割字符串，若空串，写入文件为二进制（==如果不指定分隔符，则生成二进制文件==，占用空间更小）</li>
<li>format：写入文件的格式</li>
</ul>
<h2>b）np.fromfile</h2>
<pre><code class="language-py">np.fromfile(frame,dtype=float,count=-1,sep='')
</code></pre>
<ul>
<li>frame：文件，字符串</li>
<li>dtype：读取数据类型，默认float</li>
<li>count：读入元素个数，-1表示读入整个文件</li>
<li>sep：数据分割字符串，若空串，写入文件为二进制</li>
</ul>
<p>:sos:注意：该方法读取时要知道存入文件时数组的维度和元素类型，这两个方法要配合使用:sos:</p>
<h2>c）np.save()</h2>
<pre><code class="language-py">np.save(frame,array)
或
np.savez(frame,array)
</code></pre>
<ul>
<li>frame：文件名，以.npy为扩展名，压缩扩展名为.npz</li>
<li>array：数组变量</li>
</ul>
<h2>d）np.load()</h2>
<pre><code class="language-py">np.load(frame)
</code></pre>
<ul>
<li>frame：文件名</li>
</ul>
<h1>3.随机数函数</h1>
<blockquote>
<p>numpy的random子库</p>
<p>np.random.*</p>
</blockquote>
<h2>a）基础</h2>
<ul>
<li>rand(d0,d1,…,dn)：根据d0-dn（维度）创建随机数组，浮点数，[0,1），均匀分布</li>
<li>randn(d0,d1,…,dn)：根据d0-dn创建随机数组，标准正态分布</li>
<li>randint(low,high,(shape))：根据shape创建随机整数或整数数组，范围是[low,high）</li>
<li>seed(s)：随机数种子，s是给定的种子值</li>
</ul>
<h2>b）进阶</h2>
<ul>
<li>shuffle(a)：根据数组a的第一轴进行随机排序，==改变数组x==</li>
<li>permutation(a)：根据数组a的第一轴产生一个乱序数组，==不改变数组x==</li>
<li>choice(a, size=None, replace=True, p=None)：从一维数组a中以概率p抽取元素，默认形成size形状新数组，replace表示是否可以重用元素，默认True</li>
</ul>
<h2>c）高级</h2>
<ul>
<li>uniform(low,high,size)：产生具有均匀分布的数组，size形状</li>
<li>normal(loc,scale,zize)：产生具有正态分布的数组，loc均值，scale标准差</li>
<li>poisson(lam,size)：产生具有泊松分布的数组，lam随机事件发生概率</li>
</ul>
<h1>4.统计函数</h1>
<blockquote>
<p>对数组信息进行统计计算，numpy直接提供了库一级的统计类函数</p>
<p>np.*</p>
</blockquote>
<ul>
<li>
<p>sum(a,axis=None)：根据给定轴axis计算数组a相关元素之和，axis整数或元组</p>
</li>
<li>
<p>mean(a,axis=None)：期望</p>
</li>
<li>
<p>average(a,axis=None,weights=None)：加权平均值</p>
</li>
<li>
<p>std(a,axis=None)：标准差</p>
</li>
<li>
<p>var(a,axis=None)：方差</p>
</li>
<li>
<p>min(a),max(a)：元素中最小，最大值</p>
</li>
<li>
<p>argmin(a),argmax(a)：数组中元素最小值，最大值的降一维后下标，找位置</p>
</li>
<li>
<p>unravel_index(index,shape)：根据shape将一维下标index转换成多维下标</p>
<pre><code class="language-py">np.unravel_index(np.argmin(a),a.shape)
</code></pre>
</li>
<li>
<p>ptp(a)：最大值最小值差</p>
</li>
<li>
<p>median(a)：元素的中位数（中值）</p>
</li>
</ul>
<h1>5.梯度函数</h1>
<blockquote>
<p>梯度：连续值之间的变化率，可简单理解为斜率</p>
<p>可用于图像，声音处理</p>
</blockquote>
<pre><code class="language-py">np.gradient(a)
</code></pre>
<p>计算数组a中元素的梯度，当a为多维时，返回每个维度梯度</p>
<ul>
<li>存在两侧值：（y3-y1）/2</li>
<li>只有一侧值：（y3-y2）/1</li>
</ul>

        </main>
    </div>
    <footer class="footer">
        <p>&copy; 2024 waiwai24. All rights reserved.</p>
    </footer>
    <script src="../../../../assets/js/header.js"></script>
    <script src="../../../../assets/js/include-header.js"></script>
</body>
</html>