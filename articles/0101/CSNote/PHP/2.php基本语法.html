<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># php基本语法,php基本语法</title>
    <link rel="stylesheet" href="/assets/css/notes.min.css">
</head>
<body>
    <div class="main-content-wrapper">
        <main class="content">
            <h1>php基本语法</h1>
<p>[TOC]</p>
<h2>1. 基本格式</h2>
<p>PHP 脚本可以放在文档中的任何位置。</p>
<p>PHP 脚本以 <strong><?php** 开始，以 **?></strong> 结束：</p>
<pre><code class="language-php">&lt;?php
// PHP 代码
?&gt;
</code></pre>
<p>PHP 文件的默认文件扩展名是 <strong>.php</strong>。</p>
<p>PHP 文件通常包含 HTML 标签和一些 PHP 脚本代码。</p>
<h3>1.1 注释</h3>
<pre><code class="language-php">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;&lt;?php
// 这是 PHP 单行注释
/*
这是 
PHP 多行
注释
*/
?&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3>1.2 输出</h3>
<p>在 PHP 中有两个基本的输出方式： echo 和 print</p>
<p>echo 和 print 区别:</p>
<ul>
<li>echo - 可以输出一个或多个字符串。</li>
<li>print - 只允许输出一个字符串，返回值总为 1。</li>
</ul>
<p>echo是经常用的，一般用于回显，比如sql注入时回显查询语句结果</p>
<p>**提示：**echo 输出的速度比 print 快， echo 没有返回值，print有返回值1</p>
<h3>1.3 变量</h3>
<p>PHP 变量规则：</p>
<ul>
<li>变量以 $ 符号开始，后面跟着变量的名称</li>
<li>变量名必须以字母或者下划线字符开始</li>
<li>变量名只能包含字母数字字符以及下划线（A-z、0-9 和 _ ）</li>
<li>变量名不能包含空格</li>
<li>变量名是区分大小写的(PHP 语句和 PHP 变量都是区分大小写的)</li>
</ul>
<pre><code class="language-php">&lt;?php
$x=5;
$y=6;
$z=$x+$y;
echo $z;

$txt=&quot;Hello world!&quot;;
//赋一个文本值给变量时，在文本值两侧加上引号
?&gt;
</code></pre>
<p>php是弱类型语言，不用在变量前面加类型，PHP 会根据变量的值，自动把变量转换为正确的数据类型。从学安全的角度，能看懂哪个是变量就ok了，如果以后学的更深入了，需要使用php来写POC，进行持续性漏洞再回过头来学习命名规则等</p>
<h4>1.3.1 弱类型安全</h4>
<p>php中有一些相等的值</p>
<ul>
<li>‘’== 0 == false ==NULL</li>
<li>‘123’==123</li>
<li>‘abc’==0</li>
<li>‘123a’==123</li>
<li>‘0x01’==1</li>
<li>‘0e123456789’==‘0e987654321’</li>
<li>[false] == [0] == [NULL] == [‘’]</li>
<li>true == 1</li>
</ul>
<p>在PHP中，比较两个值是否相等可以使用“ == ”或“===”，前者会自动进行类型转换</p>
<ul>
<li>松散比较：使用两个等号 <strong>==</strong> 比较，只比较值，不比较类型</li>
<li>严格比较：用三个等号 <strong>===</strong> 比较，除了比较值，也比较类型</li>
</ul>
<pre><code class="language-php">&lt;?php
$input = &quot;1abc&quot;;
if($input==1)
{
	echo &quot;flag&quot;;
}
?&gt;
//输出flag
</code></pre>
<h4>1.3.2 变量作用域</h4>
<p>变量的作用域是脚本中变量可被引用/使用的部分。</p>
<p>PHP 有四种不同的变量作用域：</p>
<ul>
<li>
<p>local局部</p>
</li>
<li>
<p>global全局：</p>
<ul>
<li>global 关键字用于函数内访问全局变量</li>
<li>在函数内调用函数外定义的全局变量，我们需要在函数中的变量前加上 global 关键字</li>
</ul>
</li>
<li>
<p>static：</p>
<ul>
<li>当一个函数完成时，它的所有变量通常都会被删除。然而，有时候希望某个局部变量不要被删除，要做到这一点，请在您第一次声明变量时使用 <strong>static</strong> 关键字</li>
</ul>
</li>
<li>
<p>parameter：</p>
<ul>
<li>参数是通过调用代码将值传递给函数的局部变量。参数是在参数列表中声明的，作为函数声明的一部分</li>
</ul>
</li>
</ul>
<h3>1.4 EOF</h3>
<p>PHP EOF(heredoc)是一种在命令行shell（如sh、csh、ksh、bash、PowerShell和zsh）和程序语言（像Perl、PHP、Python和Ruby）里定义一个字符串的方法。</p>
<p>使用概述：</p>
<ul>
<li>必须后接分号，否则编译通不过。</li>
<li><strong>EOF</strong> 可以用任意其它字符代替，只需保证结束标识与开始标识一致。开始标记和结束标记相同，比如常用大写的 <strong>EOT、EOD、EOF</strong> 来表示，但是不只限于那几个(也可以用：JSON、HTML等)，只要保证开始标记和结束标记不在正文中出现即可</li>
<li><strong>结束标识必须顶格独自占一行(即必须从行首开始，前后不能衔接任何空白和字符)。</strong></li>
<li>开始标识可以不带引号或带单双引号，不带引号与带双引号效果一致，解释内嵌的变量和转义符号，带单引号则不解释内嵌的变量和转义符号。</li>
<li>当内容需要内嵌引号（单引号或双引号）时，不需要加转义符，本身对单双引号转义，此处相当与q和qq的用法。</li>
</ul>
<pre><code class="language-php+HTML">&lt;?php
echo &lt;&lt;&lt;EOF

    &lt;h1&gt;我的第一个标题&lt;/h1&gt;
    &lt;p&gt;我的第一个段落。&lt;/p&gt;

EOF;
//以 &lt;&lt;&lt;EOF 开始标记开始，以 EOF 结束标记结束，结束标记必须顶头写，不能有缩进和空格，且在结束标记末尾要有分号
?&gt;
</code></pre>
<h2>二.数据类型</h2>
<p>PHP 支持以下几种数据类型:</p>
<ul>
<li>String（字符串）</li>
<li>Integer（整型）</li>
<li>Float（浮点型）</li>
<li>Boolean（布尔型）</li>
<li>Array（数组）</li>
<li>Object（对象）</li>
<li>NULL（空值）</li>
<li>Resource（资源类型）</li>
</ul>
<p><strong>var_dump()</strong> 函数用于输出变量的相关信息</p>
<h3>2.1 字符串</h3>
<ul>
<li>一个字符串是一串字符的序列，就像 “Hello world!”。</li>
<li>你可以将任何文本放在单引号和双引号中</li>
</ul>
<h4>2.1.1 并置运算符</h4>
<ul>
<li>在 PHP 中，只有一个字符串运算符</li>
<li>并置运算符 (.) 用于把两个字符串值连接起来</li>
</ul>
<h4>2.1.2 strlen() 函数</h4>
<p>strlen() 函数返回字符串的长度（字节数）</p>
<h4>2.1.3 strpos() 函数</h4>
<ul>
<li>strpos() 函数用于在字符串内查找一个字符或一段指定的文本。</li>
<li>如果在字符串中找到匹配，该函数会返回第一个匹配的字符位置。如果未找到匹配，则返回 FALSE</li>
</ul>
<pre><code class="language-php">&lt;?php
echo strpos(&quot;Hello world!&quot;,&quot;world&quot;);
?&gt;
   
运行结果：6
字符串 &quot;world&quot; 的位置是 6。之所以是 6 而不是 7 的原因是，字符串中第一个字符的位置是 0，而不是 1
</code></pre>
<h3>2.2 整型</h3>
<p>整数规则:</p>
<ul>
<li>整数不能包含逗号或空格</li>
<li>整数是没有小数点的</li>
<li>整型可以用三种格式来指定：十进制， 十六进制（ 以 0x 为前缀）或八进制（前缀为 0）</li>
</ul>
<h3>2.3 浮点型</h3>
<p>浮点数是带小数部分的数字，或是指数形式</p>
<h3>2.4 布尔型</h3>
<p>布尔型可以是 TRUE 或 FALSE</p>
<h3>2.5 数组</h3>
<p>数组可以在一个变量中存储多个值</p>
<pre><code class="language-php">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;?php 
$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);
var_dump($cars);
?&gt;   

&lt;/body&gt;
&lt;/html&gt;
    
运行结果：
array(3) { [0]=&gt; string(5) &quot;Volvo&quot; [1]=&gt; string(3) &quot;BMW&quot; [2]=&gt; string(6) &quot;Toyota&quot; }
</code></pre>
<h3>2.6 对象</h3>
<ul>
<li>对象数据类型也可以用于存储数据。</li>
<li>在 PHP 中，对象必须声明。</li>
<li>首先，你必须使用class关键字声明类对象。类是可以包含属性和方法的结构。</li>
<li>然后我们在类中定义数据类型，然后在实例化的类中使用数据类型</li>
</ul>
<h3>2.7 NULL值</h3>
<ul>
<li>NULL 值表示变量没有值。NULL 是数据类型为 NULL 的值。</li>
<li>NULL 值指明一个变量是否为空值。 同样可用于数据空值和NULL值的区别。</li>
<li>可以通过设置变量值为 NULL 来清空变量数据</li>
</ul>
<h3>2.8 资源类型</h3>
<ul>
<li>PHP 资源 resource 是一种特殊变量，保存了到外部资源的一个引用</li>
<li>常见资源数据类型有打开文件、数据库连接、图形画布区域等</li>
<li>由于资源类型变量保存有为打开文件、数据库连接、图形画布区域等的特殊句柄，因此将其它类型的值转换为资源没有意义</li>
</ul>
<pre><code class="language-php">&lt;?php
$c = mysql_connect();
echo get_resource_type($c).&quot;\n&quot;;
// 打印：mysql link

$fp = fopen(&quot;foo&quot;,&quot;w&quot;);
echo get_resource_type($fp).&quot;\n&quot;;
// 打印：file

$doc = new_xmldoc(&quot;1.0&quot;);
echo get_resource_type($doc-&gt;doc).&quot;\n&quot;;
// 打印：domxml document
?&gt;
</code></pre>
<h2>三. 常量</h2>
<p>常量值被定义后，常量在定义后，默认是全局变量，在脚本的其他任何地方都不能被改变，==常量名不需要加 $ 修饰符==</p>
<h3>3.1 设置常量</h3>
<p>设置常量，使用 define() 函数，函数语法如下：</p>
<pre><code class="language-php">bool define ( string $name , mixed $value [, bool $case_insensitive = false ] )
</code></pre>
<ul>
<li>
<p>**name：**必选参数，常量名称，即标志符。</p>
</li>
<li>
<p>**value：**必选参数，常量的值。</p>
</li>
<li>
<p><strong>case_insensitive</strong> ：可选参数，如果设置为 TRUE，该常量则大小写不敏感，默认是大小写敏感的。</p>
<p>**注意：**自 PHP 7.3.0 开始，定义不区分大小写的常量已被弃用。从 PHP 8.0.0 开始，只有 false 是可接受的值，传递 true 将产生一个警告。</p>
</li>
</ul>
<h3>3.2 常量是全局的</h3>
<h2>四. 运算符</h2>
<h3>4.1 算数运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
<th style="text-align:left">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x + y</td>
<td style="text-align:left">加</td>
<td style="text-align:left">x 和 y 的和</td>
<td style="text-align:left">2 + 2</td>
<td style="text-align:left">4</td>
</tr>
<tr>
<td style="text-align:left">x - y</td>
<td style="text-align:left">减</td>
<td style="text-align:left">x 和 y 的差</td>
<td style="text-align:left">5 - 2</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">x * y</td>
<td style="text-align:left">乘</td>
<td style="text-align:left">x 和 y 的积</td>
<td style="text-align:left">5 * 2</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">x / y</td>
<td style="text-align:left">除</td>
<td style="text-align:left">x 和 y 的商</td>
<td style="text-align:left">15 / 5</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">x % y</td>
<td style="text-align:left">模（除法的余数）</td>
<td style="text-align:left">x 除以 y 的余数</td>
<td style="text-align:left">5 % 2 10 % 8 10 % 2</td>
<td style="text-align:left">1 2 0</td>
</tr>
<tr>
<td style="text-align:left">-x</td>
<td style="text-align:left">设置负数</td>
<td style="text-align:left">取 x 的相反符号</td>
<td style="text-align:left"><code>&lt;?php $x = 2; echo -$x; ?&gt;</code></td>
<td style="text-align:left">-2</td>
</tr>
<tr>
<td style="text-align:left">~x</td>
<td style="text-align:left">取反</td>
<td style="text-align:left">x 取反，按二进制位进行&quot;取反&quot;运算。运算规则：<code>~1=-2;    ~0=-1;</code></td>
<td style="text-align:left"><code>&lt;?php $x = 2; echo ~$x; ?&gt;</code></td>
<td style="text-align:left">-3</td>
</tr>
<tr>
<td style="text-align:left">a . b</td>
<td style="text-align:left">并置</td>
<td style="text-align:left">连接两个字符串</td>
<td style="text-align:left">“Hi” . “Ha”</td>
<td style="text-align:left">HiHa</td>
</tr>
</tbody>
</table>
<h3>4.2 赋值运算符</h3>
<p>基本的赋值运算符是 <strong>=</strong>。它意味着左操作数被设置为右侧表达式的值</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">等同于</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x = y</td>
<td style="text-align:left">x = y</td>
<td style="text-align:left">左操作数被设置为右侧表达式的值</td>
</tr>
<tr>
<td style="text-align:left">x += y</td>
<td style="text-align:left">x = x + y</td>
<td style="text-align:left">加</td>
</tr>
<tr>
<td style="text-align:left">x -= y</td>
<td style="text-align:left">x = x - y</td>
<td style="text-align:left">减</td>
</tr>
<tr>
<td style="text-align:left">x *= y</td>
<td style="text-align:left">x = x * y</td>
<td style="text-align:left">乘</td>
</tr>
<tr>
<td style="text-align:left">x /= y</td>
<td style="text-align:left">x = x / y</td>
<td style="text-align:left">除</td>
</tr>
<tr>
<td style="text-align:left">x %= y</td>
<td style="text-align:left">x = x % y</td>
<td style="text-align:left">模（除法的余数）</td>
</tr>
<tr>
<td style="text-align:left">a .= b</td>
<td style="text-align:left">a = a . b</td>
<td style="text-align:left">连接两个字符串</td>
</tr>
</tbody>
</table>
<h3>4.3 递增/递减运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">++ x</td>
<td style="text-align:left">预递增</td>
<td style="text-align:left">x 加 1，然后返回 x</td>
</tr>
<tr>
<td style="text-align:left">x ++</td>
<td style="text-align:left">后递增</td>
<td style="text-align:left">返回 x，然后 x 加 1</td>
</tr>
<tr>
<td style="text-align:left">– x</td>
<td style="text-align:left">预递减</td>
<td style="text-align:left">x 减 1，然后返回 x</td>
</tr>
<tr>
<td style="text-align:left">x –</td>
<td style="text-align:left">后递减</td>
<td style="text-align:left">返回 x，然后 x 减 1</td>
</tr>
</tbody>
</table>
<h3>4.4 比较运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x == y</td>
<td style="text-align:left">等于</td>
<td style="text-align:left">如果 x 等于 y，则返回 true</td>
<td style="text-align:left">5==8 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x === y</td>
<td style="text-align:left">绝对等于</td>
<td style="text-align:left">如果 x 等于 y，且它们类型相同，则返回 true</td>
<td style="text-align:left">5===“5” 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x != y</td>
<td style="text-align:left">不等于</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
<td style="text-align:left">5!=8 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &lt;&gt; y</td>
<td style="text-align:left">不等于</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
<td style="text-align:left">5&lt;&gt;8 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x !== y</td>
<td style="text-align:left">不绝对等于</td>
<td style="text-align:left">如果 x 不等于 y，或它们类型不相同，则返回 true</td>
<td style="text-align:left">5!==“5” 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &gt; y</td>
<td style="text-align:left">大于</td>
<td style="text-align:left">如果 x 大于 y，则返回 true</td>
<td style="text-align:left">5&gt;8 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x &lt; y</td>
<td style="text-align:left">小于</td>
<td style="text-align:left">如果 x 小于 y，则返回 true</td>
<td style="text-align:left">5&lt;8 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &gt;= y</td>
<td style="text-align:left">大于等于</td>
<td style="text-align:left">如果 x 大于或者等于 y，则返回 true</td>
<td style="text-align:left">5&gt;=8 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x &lt;= y</td>
<td style="text-align:left">小于等于</td>
<td style="text-align:left">如果 x 小于或者等于 y，则返回 true</td>
<td style="text-align:left">5&lt;=8 返回 true</td>
</tr>
</tbody>
</table>
<h3>4.5 逻辑运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x and y</td>
<td style="text-align:left">与</td>
<td style="text-align:left">如果 x 和 y 都为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x &lt; 10 and y &gt; 1) 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x or y</td>
<td style="text-align:left">或</td>
<td style="text-align:left">如果 x 和 y 至少有一个为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x== 6 or y==5) 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x xor y</td>
<td style="text-align:left">异或</td>
<td style="text-align:left">如果 x 和 y 有且仅有一个为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x== 6 xor y==3) 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x &amp;&amp; y</td>
<td style="text-align:left">与</td>
<td style="text-align:left">如果 x 和 y 都为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x &lt; 10 &amp;&amp; y &gt; 1) 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x || y</td>
<td style="text-align:left">或</td>
<td style="text-align:left">如果 x 和 y 至少有一个为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x== 5 || y==5) 返回 false</td>
</tr>
<tr>
<td style="text-align:left">! x</td>
<td style="text-align:left">非</td>
<td style="text-align:left">如果 x 不为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 !(x==y) 返回 true</td>
</tr>
</tbody>
</table>
<h3>4.6 数组运算符</h3>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x + y</td>
<td style="text-align:left">集合</td>
<td style="text-align:left">x 和 y 的集合</td>
</tr>
<tr>
<td style="text-align:left">x == y</td>
<td style="text-align:left">相等</td>
<td style="text-align:left">如果 x 和 y 具有相同的键/值对，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x === y</td>
<td style="text-align:left">恒等</td>
<td style="text-align:left">如果 x 和 y 具有相同的键/值对，且顺序相同类型相同，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x != y</td>
<td style="text-align:left">不相等</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &lt;&gt; y</td>
<td style="text-align:left">不相等</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x !== y</td>
<td style="text-align:left">不恒等</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
</tr>
</tbody>
</table>
<h3>4.7 三元运算符</h3>
<pre><code class="language-php">(expr1) ? (expr2) : (expr3) 
</code></pre>
<ul>
<li>对 expr1 求值为 TRUE 时的值为 expr2，在 expr1 求值为 FALSE 时的值为 expr3</li>
<li>自 PHP 5.3 起，可以省略三元运算符中间那部分。表达式 expr1 ?: expr3 在 expr1 求值为 TRUE 时返回 expr1，否则返回 expr3</li>
<li>在 PHP7+ 版本多了一个 NULL 合并运算符 <strong>??</strong></li>
</ul>
<pre><code class="language-php">&lt;?php
// 如果 $_GET['user'] 不存在返回 'nobody'，否则返回 $_GET['user'] 的值
$username = $_GET['user'] ?? 'nobody';
// 类似的三元运算符
$username = isset($_GET['user']) ? $_GET['user'] : 'nobody';
?&gt;
</code></pre>
<h3>4.8 组合比较符</h3>
<p>PHP7+ 支持组合比较符（combined comparison operator）也称之为太空船操作符，符号为 <strong>&lt;=&gt;</strong>。组合比较运算符可以轻松实现两个变量的比较，当然不仅限于数值类数据的比较</p>
<pre><code class="language-php">$c = $a &lt;=&gt; $b;
</code></pre>
<p>解析如下：</p>
<ul>
<li>如果 <strong>$a &gt; $b</strong>, 则 <strong>$c</strong> 的值为 <strong>1</strong>。</li>
<li>如果 <strong>$a == $b</strong>, 则 <strong>$c</strong> 的值为 <strong>0</strong>。</li>
<li>如果 <strong>$a &lt; $b</strong>, 则 <strong>$c</strong> 的值为 <strong>-1</strong>。</li>
</ul>

        </main>
    </div>
</body>
</html>