<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title># 运算符重载(Function Overloading),运算符重载(Function Overloading)</title>
    <link rel="stylesheet" href="/assets/css/notes.min.css">
</head>
<body>
    <div class="main-content-wrapper">
        <main class="content">
            <h1>运算符重载(Function Overloading)</h1>
<p>[TOC]</p>
<h2>1.定义</h2>
<p>运算符重载的方法是定义一个重载运算符的函数，在需要执行被重载的运算符时，系统就自动调用该函数，以实现相应的运算。也就是说，运算符重载是通过定义函数实现的。运算符重载实质上是函数的重载。</p>
<p>运算符重载，就是对已有的运算符重新进行定义，赋予其另一种功能，以适应不同的数据类型。</p>
<hr>
<h2>2.重载运算符声明方式</h2>
<p>由关键字 operator 和 其后要重载的运算符符号构成</p>
<ul>
<li>不能被重载的运算符有：<code>.</code> 、<code>.*</code> 、<code>::</code> 、<code>?:</code> 、<code>sizeof</code></li>
<li>只能作为类成员函数重载的运算符有：<code>()</code> 、<code>[]</code> 、<code>-&gt;</code> 、<code>=</code></li>
</ul>
<pre><code class="language-cpp">函数类型 operator 运算符名称 (形参表列)
{
    // 对运算符的重载处理
}
</code></pre>
<hr>
<h2>3.重载的两种方式</h2>
<h3>（1）类内重载</h3>
<p>​			运算符重载函数作为类的成员函数</p>
<p>​			运算符重载的函数也可以写到某个类中成为一个成员函数，格式与写在外面没有区别，但在<strong>参数列表</strong>上有一些差异。</p>
<p>​			成为成员函数的运算符重载函数的参数需要少写一个最左边的参数，而少的这个参数就由当前的对象代替</p>
<p>​			注意：作为成员函数的运算符重载函数也会受访问性影响</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class Point{
public:
    Point(){};
    Point (int x, int y): x(x),y(y) {};
    Point operator+(const Point &amp;a){ //类内重载，运算符重载函数作为类的成员函数
        Point ret;
        ret.x = this-&gt;x + a.x;
        ret.y = this-&gt;y + a.y;
        return ret;
    }
    int x,y;
};

int main() {
    Point a(2,4),b(5,3);
    Point c = a + b;// a + b 相当于 a 对象调用+方法并且传入参数时 b 对象
	cout&lt;&lt; &quot;x :&quot; &lt;&lt; c.x &lt;&lt; endl;
    cout&lt;&lt;&quot;y :&quot; &lt;&lt; c.y &lt;&lt; endl;
}
</code></pre>
<h3>（2）类外重载</h3>
<p>​			运算符重载函数作为类的友元函数</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class Point{
public:
    Point(){};
    Point (int x, int y): x(x),y(y) {};
    friend Point operator+(const Point &amp;, const Point &amp;);
    int x,y;
};

Point operator+(const Point &amp;a,const Point &amp;b){//类外重载,运算符重载函数作为类的友元函数
    Point ret;
    ret.x = a.x + b.x;
    ret.y = a.y + b.y;
    return ret;
}

int main() {
    Point a(2,4),b(5,3);
    Point c = a + b;
	cout&lt;&lt; &quot;x :&quot; &lt;&lt; c.x &lt;&lt; endl;
    cout&lt;&lt;&quot;y :&quot; &lt;&lt; c.y &lt;&lt; endl;
}
</code></pre>

        </main>
    </div>
</body>
</html>