# RAG

生成式 AI（Artificial Intelligence Generated Content，AIGC），在生成答案或内容时，RAG 技术能够参照精确的知识源，为用户提供高度合理和准确的响应

嵌入模型 (embedding model) 来制作词向量，海量的词向量组成向量数据库

构建知识库：

* 选择并读取文件
* 数据清洗（删除多余的换行符，符号等）
* 文档分割：单篇文章过长，超出模型处理范围，需要将长文章分割成小段落chunk。LangChain提供了多种文本分割器
* 构建向量知识库，使用Embedding
* 向量检索：相似度，最大边际相关性



ollama部署deepseekR1：

```
ollama run deepseek-r1
ollama list
```



## MaxKB

Max Knowledge Base：https://github.com/1Panel-dev/MaxKB

添加模型->创建知识库->创建应用->应用集成



主要功能：

* 应用：
  * 简单配置
  * 高级编排：
    * AI对话：
      * AI模型选择
      * 提示词
      * 历史聊天记录：在当前对话中有关联的历史会话内容，表示当前问题以及上一次的对话内容一起输送给大模型
      * 返回内容
      * 输出思考
    * 知识库检索：
      * 知识库选择
      * 检索的参数设置：检索的模式和相似度
    * 多路召回，重排：多个知识库的检索结果召回形成一个检索结果候选集合，并对检索结果候选集合重新打分和排序
* 知识库：（支持重新向量化）
  * 文档
  * web站点（支持同步）
  * 上传文档限制：格式，数量，大小
  * 数据分段：智能，自定义
* 函数库
* 系统管理：
  * 团队
  * 模型



