# _emit

emit指令的作用：

* 编译器不认识的指令，拆成机器码来写。
* 插入垃圾字节来反跟踪，又称花指令。

用emit就是在当前位置直接插入数据（实际上是指令），一般是用来直接插入汇编里面没有的特殊指令，多数指令可以用asm内嵌汇编来做，没有必要用emit来做，除非你不想让其它人看懂你的代码。

以下片段将字节 0x4A、0x43 和 0x4B 放入代码中：

```cpp
#define randasm __asm _emit 0x4A __asm _emit 0x43 __asm _emit 0x4B
.
.
.
__asm {
    randasm
    }
```

注意：

```
如果 _emit 生成了修改寄存器的指令，并且您在编译应用程序时进行了优化，则编译器无法确定受到影响的寄存器。 例如，如果 _emit 生成修改 rax 寄存器的指令，编译器将不知道 rax 已更改。 在内联汇编程序代码执行后，编译器随后可能会对该寄存器中的值做出错误假设。 因此，在应用程序运行时，它可能展示出不可预知的行为。
```

