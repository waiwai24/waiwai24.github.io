# 面向对象的语言

# Object Oriented Programming

# OOP

[toc]

## 一.结构化和面向对象的区别

### 1.结构化程序设计方法

- 软件的结构化分析、设计方法
- 工程化概念的方法
- 但无法很好地支持越来越复杂、庞大的系统需求

### 2. 面向对象方法

- 直接将问题的求解映射到问题本身上
- 将问题分解为一系列的实体（对象）
- 方便设计，可维护性、可扩充性好

## 二.面向对象方法的特性

- 程序由一个个对象组成
- 函数与相关的数据紧密结合
- 数据可以被隐藏
- 面向对象的三大特性：封装、继承、多态

## 三.设计步骤

1. 分析实际问题，抽取其中的实体（对象）
2. 为对象设计类（新的类型），程序使用这些类创建各种对象
3. 协调这些对象完成程序功能（消息）

## 四.类（class）（抽象）和对象 （object）（具体）

`<u>`***`类=属性（数据）+方法（函数）`***`</u>`

### 1.万物皆对象

* “人”不是具体的实体，是类，是抽象概念

- “张三” 、 “李四”都是对象，但“人”不是

### 2.类是某些对象共同特征的表示

- 通过类定义出来的变量有了一个新名字，叫做对象（object）
- 类是创建对象的模板，对象是类的实例
- 类的成员不仅可以是变量，还可以是函数
- 当我们创建一个对象时，对象会包含该类的所有成员的引用，而不是将成员直接包含在对象中。这意味着每个对象都可以访问和使用相同的成员，因为它们共享相同的成员定义
- 对象是具体化，成员是类的一部分。就好像人是类，那么手就是人的成员。那么你就是对象

### 3.格式

- 定义：关键字 **class <类名>**(类名的首字母一般大写，以和其他的标识符区分开)
- 花括号的部分是类的体
- 定义以分号为结尾

```cpp
//定义洗衣机类CWashingMachine
class CWashingMachine {
public:
	CWashingMachine(int v = 1, int m = 1); //构造函数
	void setVolume(int v); //设置进水量
	void setMode(int m); //设置洗衣模式
	void washing(); //洗衣
private:
	int waterVolume; //进水量
	int mode; //洗衣模式
};
```

### 4.内容说明

* ==默认情况下，类的成员是私有的==

```cpp
class 类名 
{
    public:
    // 公有成员变量和函数（公共成员可以在类的内部和外部进行访问。这意味着，任何一个函数都可以访问公共成员，而不需要进行任何特殊的访问限制）
  
    private:
    // 私有成员变量和函数（私有成员只能在类的内部进行访问。这意味着，除了类本身以外，没有任何其他函数或类可以访问私有成员）
  
    protected：
    // 保护成员变量和函数（保护成员可以在类的内部和派生类中进行访问，但不能在类的外部进行访问。protected（受保护）成员变量或函数与私有成员十分相似，但有一点不同，protected（受保护）成员在派生类（即子类）中是可访问的。

};
```

- 自定义类是一种新的自定义类型，可以声明变量、指针、 数组等
- 对象各自拥有自己的数据空间，互不干扰

```cpp
CWashingMachine no1; //声明CWashingMachine类的对象no1
CWashingMachine wm[1000]; //声明CWashingMachine类的数组
CWashingMachine *wptr = &no1; //声明CWashingMachine类型的指针
CWashingMachine &ref = no1; //声明CWashingMachine类型的引用
```

### 5.对于public，protected，private的深入理解

#### （1）共有成员public

    在程序中类的外部可以访问，任何一个函数都可以访问公有成员

#### （2）保护成员protected

    与private类似，但可以在==派生类==中进行访问，

#### （3）私有成员private

    只能在类的内部进行访问，只有友类和友元函数可以访问私有成员（可以在内部定义访问函数）

### 6.const对数据的进一步保护

#### （1）常数据成员

* 在类中用const限定的数据成员为==常数据成员==，常数据成员只能在构造函数的初始化列表中初始化
* const数据成员的值在对象的整个生命周期都不会发生变化

#### （2）常函数成员

* 将一个成员函数用const进行限制能保证对象的常量性，==常对象不能调用无const修饰的成员函数==，非常对象可以调用其const成员函数

## 五.消息

- 对象可以响应消息
- C++将“向对象发消息”处理成“调用对象的某个成员函数”
- 调用对象no1的成员函数washing的方法

```cpp
no1.washing();
wptr->washing();
ref.washing();
```

## 六.设计特点

### 1.抽象和封装

- 抽象——提取和表现事物的核心特性，不描述背景细节
- 封装——把数据及与数据相关的操作组织在一个单独的程序单元（对象）中

### 2.数据隐藏和访问机制

- 对象对内部数据提供了不同级别的保护
- 外界程序不能直接访问对象的私有成员（包括私有成员函数和私有数据成员）
- 外界程序只能通过**公有成员函数**和对象交互
- 有效地保护数据，提高程序的可维护性

### 3.继承

- 继承允许基于现有的类（基类）建立新类（派生类）
- 派生类继承基类的属性（数据）和行为（函数）
- 派生类可以修改（重定义）继承来的行为
- 派生类可以增加新的数据成员和成员函数

### 4.多态性

- 程序设计中很多类可以通过继承的关系构成树形结构
- 多态性使程序员可以通过统一的接口操作具有继承关系的这些类的对象
- 对于同一条函数调用语句不同的对象会执行不同的操作
