# 函数

[TOC]

## 1.基本概念

> 一个命名的程序代码块，是程序完成其操作的功能单位

* 作用：分而治之，软件重用，易于差错和修改，方便扩展

* 分类:

  * 预定义函数：c++系统库（第三方）提供 eg：#include\<cmath>
  * 自定义函数：程序员自己编写

* 定义格式：

  ```cpp
  返回值类型 函数名(参数列表)
  {
  	函数体
  }
  ```

* 返回值类型：函数返回的数据类型

  * 若无，则用空类型void
  * 默认为int，未指定返回即int

* 参数列表：若干 “参数类型  参数名”构成，用逗号分隔；定义的参数称为形式参数(形参)

* 函数体：函数执行直到遇到return语句或函数体结束的右花括号为止

  ```cpp
  int max(int a,int b,int c)
  {
  	int m;
  	m=(a>b)?a:b;
  	return (m>c)?m:c;
  }
  ```



---

## 2.函数原型(声明函数)

> 函数必须先声明后使用

* 基本类型：

  ```cpp
  返回值类型 函数名(参数列表); //参数的名字可以省略
  ```

* main函数在前，被调用函数写在后，声明在最前



---

## 3.函数调用

1. 传递参数 	实参→形参
2. 跳转到被调函数体
3. 返回执行结果，回到主调函数



---

## 4.参数传递

* 传值调用：形参对应的内存单位改变对实参无影响
* 传引用调用：形参前面加上**&**符号（可视形参，为同一变量）



---

## 5.默认参数

> 默写参数常取固定值

**定义必须从右往左**

```cpp
True: int calc(int n,int m=1);
False: int calc(int m=1,int n);
```



---

## 6.内联函数

* 声明：

  ```cpp
  inline 返回值类型 函数名(参数列表);
  ```

* 调用时会把调用该函数的位置用实际函数代码替换



---

## 7.函数重载

* 允许定义多个函数同名
* 但必须有不同的参数



---

## 8.作用域

* 最近嵌套原则
* 作用域最小化原则

* 全局变量：在函数之外定义的变量



---

## 9.存储类别

1. 自动存储：定义在函数快中的，终止于函数块结束
   1. auto 自动变量
   2. register 寄存器变量：为变量分配高速寄存器
2. 静态存储：程序整个运行期间
   1. static：局部变量
   2. extern：全局变量
3. 动态存储
4. 线性存储



---

## 10.递归函数

* 函数直接或间接调用自己的行为
* 思路清晰简洁，易于理解维护，但效率低



---

## 11.预处理指令

> 不是c++语句，所以不用；

1. #include指令（头文件包含指令）：
   1. #include <文件名>：从系统头文件目录搜索
   2. #include “文件名”：从当前目录工程
   3. 工程上，头文件（.h）中声明若干函数，原文件（.cpp）定义相应的函数
2. #define指令：
   1. #define 常量标识符 常量
   2. #define 宏标识符 字符串



