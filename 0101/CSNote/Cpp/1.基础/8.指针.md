# 指针

[TOC]

## 1.概念及其定义

* 指针：具有确定类型的地址

* 指针变量：可以存放指针的变量

* 声明：

  ```cpp
  类型名* 标识符
  ```

* 不管指针指向类型如何，指针变量本身一般占4个字节（32位系统）/ 8个字节（64位系统）

* 指针变量的初始化：

  * 可在声明时初始化，也可通过赋值语句获得值
  * 不可以使用还没有赋予合法地址的指针变量
  * 空指针常量（不指向任何地址） NULL 和 nullper （内存地址编号位0）



---

## 2.指针的使用

### （1）取地址运算符&

​		作用：返回变量的地址

### （2）间接引用运算符 *

​		作用：返回指针所指向的对象

​		注意：& 与 * 二者互为逆运算符

### （3）算术运算

* p1+n 或 p1-n     向前或向后移动n个数据单位
* p1-p2                  两指针之间的数据个数
* ++p，--p         

### （4）关系运算

* p1< p2           两地址之间的位置前后关系，满足true，否则false

* 判断是否为空指针

  ```cpp
  if(p1!=NULL) 
  ```

* 指针作为函数参数：传指针可以在被调用函数中修改传进来的实参



---

## 3.动态内存分配

### （1）C语言

```c
void * malloc(unsigned size);
void * free(void* ptr);
```

### （2）C++

```cpp
指针类型名 指针变量名 = new 类型数据;
delete 指针变量名;
```



---

## 4 .指针与数组

* 数组名（也是一个数组的首地址）可视为一个指针

* 数组赋值给指针，指针指向数组的第一个元素

* 互换使用：

  ```cpp
  a[i]
  *(a+i)
  *(aptr+i)
  aptr[i]
  ```

* 一维数组：

  ```cpp
  int n=3;
  int* arry=new int [n];
  ```

* 二维数组：

  ```cpp
  //n 行 m 列的二维动态数组
  int n = 3;
  int m = 4;
  int** arry = new int*[n];
  for (int i = 0; i < n; ++i)
  {
      arry[i] = new int[m];
  }
  
  // 释放内存
  for (int i = 0; i < n; ++i)
  {
      delete[] arry[i];
  }
  delete[] arry;
  ```




---

## 5.const限定符

* 通常在声明变量时使用
* 目的：数据保护，声明不允许被修改的变量和形参
* 常量指针：不能通过指针修改所指向数据 const int* p
* 指针常量：不可修改的执政变量，指向固定地址 int* const p=a

