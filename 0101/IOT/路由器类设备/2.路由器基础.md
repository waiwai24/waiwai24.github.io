# 路由器基础

## 1.简介

路由器大多是基于 linux 系统，在利用漏洞成功获得一台路由器的控制权后，路由器会返回一个命令行会话 shell，该会话接入路由器的 linux 系统，拥有最高权限，可以通过他对路由器进行管理，如关闭防火墙，修改 DNS，重启路由器等

路由器的 linux 系统的特点：

* 指令架构，路由器是一种嵌入式系统，多采用 mips 和 arm 这两种指令架构
* 路由器的 shell 是基于 busybox 的



## 2.MIPS Linux

MIPS 属于 RISC 精简指令集体系，普遍应用与小型设备的处理器架构

路由器的根文件系统与 linux 系统基本一致

bin，sbin，usr 目录下的 bin，sbin 都是用于存放路由器的应用程序的目录

lib，usr 目录下的 lib 适用于存放程序运行时所需要的动态库文件的目录

etc 目录用于存放路由器的配置文件



## 3.BusyBox

路由器系统因为存储空间受到限制，所以使用的 shell 通常是经过裁剪的名为 busybox 的程序，在路由器系统的 shell 支持的命令都执行 busybox 的符号链接

不同路由器上的 busybox 裁剪程度不同，因此每个路由器设备所支持的命令种类也可能不同

为了收集路由器有关的信息，可以查看路由器文件系统 `/bin` 目录下的 busybox，用 `file` 命令查看路由器的架构



## 4.模拟

一些特殊的协议：https 协议，ssl 协议的路由器不太好模拟

模拟时重点关注的文件：/etc/rc.*；/etc/init.d；还有一些 web 服务器的配置文件
